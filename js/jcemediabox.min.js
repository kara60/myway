if("undefined"===window.jQuery)throw new Error("JQuery is required to run Mediabox!");!function(e){var t,i={util:{},settings:{selector:".jcepopup, .wfpopup, [data-mediabox]",labels:{close:"Close",next:"Next",previous:"Previous"},convert_local_url:!0,autoplay:0},popups:[],items:[],activator:null,getSite:function(){var e=this.settings.base||"";if(e){var t=document.location.href.split("://"),i=t[0],a=t[1];return i+"://"+(a=-1!==a.indexOf(e)?a.substr(0,a.indexOf(e)):a.substr(0,a.indexOf("/"))||a)+e}return null},isPrint:function(){return-1!==document.location.href.indexOf("&print=1")},init:function(t){return this.isPrint()?(e(this.settings.selector).children().unwrap(),!0):(e.extend(this.settings,t),this.site=this.getSite(),this.create(),void e(".jcetooltip, .jce_tooltip").each((function(){var t=e(this).attr("title")||"",i=e(this).attr("class");if(-1!==t.indexOf("::")){var a=t.split("::");e.trim(a[0]),t=e.trim(a[1])}e(this).attr("title",t);var o=/tooltip-(top|bottom|left|right)/.exec(i);o=o?o[1]:"top",window.UIkit&&UIkit.tooltip?UIkit.tooltip(this,{title:t,position:o}):void 0!==e.fn.tooltip&&e(".jcetooltip, .jce_tooltip").tooltip({title:t,placement:o})})))},getPopups:function(t,i){var a=t||this.settings.selector;return e(a,i).filter("a[href], area[href]")},translate:function(e){var t=this.settings.labels;return e&&(e="{{"===e.substr(0,2)?e.replace(/\{\{(\w+?)\}\}/g,(function(e,i){return t[i]||e})):t[e]||e),e},getStyles:function(t){var i=[];return t?(e.each(t.split(";"),(function(e,t){t=t.replace(/(.*):(.*)/,(function(e,t,i){return'"'+t+'":"'+i+'"'})),i.push(t)})),e.parseJSON("{"+i.join(",")+"}")):{}},islocal:function(e){return!/^(\w+):\/\//.test(e)||new RegExp("^("+Env.url+")").test(e)},auto:function(){var t,a=this;e(this.popups).each((function(e,o){if(o.auto)if("single"==o.auto){t=o.id||function(e){var t=document.location.href,i=window.btoa(t+e);return(i=i.replace(/[^\w]/g,"")).substr(0,24)}(o.src),i.Storage.get("wf_mediabox_"+t+"_"+e)||(i.Storage.set("wf_mediabox_"+t+"_"+e,1),a.start(o))}else"multiple"==o.auto&&a.start(o)}))},getData:function(t){var a,o={},n=/\w+\[[^\]]+\]/;if(a=e(t).attr("data-mediabox")||e(t).attr("data-json"))t.removeAttribute("data-json"),t.removeAttribute("data-mediabox"),n.test(a)&&(o=i.Parameter.parse(a));else{var s=e(t).attr("rel");if(s&&n.test(s)){var r=[];return s=s.replace(/\b((\w+)\[(.*?)\])(;?)/g,(function(e,t,i){return r.push(t),""})),o=i.Parameter.parse(r)||{},e(t).attr("rel",s||o.rel||""),o}}var d,c=t.attributes;for(d=c.length-1;d>=0;d--){var l=c[d].name;if(l&&-1!==l.indexOf("data-mediabox-"))o[l.replace("data-mediabox-","")]=c[d].value}return o},preloadMedia:function(){},process:function(t){var a,o,n=this.settings,s={},r="",d=!1,c=t.getAttribute("href");if(c){c=c.replace(/b(w|h)=([0-9]+)/g,(function(e,t,i){return(t="w"===t?"width":"height")+"="+i}));var l=(a=this.getData(t)||{}).title||t.title||"",f=a.caption||"",u=a.type||t.type||"",m=t.rel||"";if(!i.Env.mobile||!/\.pdf$/i.test(c)&&"pdf"!==u){if(!/\w+\[[^\]]+\]/.test(m)){r=e.trim(m.replace(new RegExp("(^|\\s+)alternate|stylesheet|start|next|prev|contents|index|glossary|copyright|chapter|section|subsection|appendix|help|bookmark|nofollow|noopener|noreferrer|licence|tag|friend|(lightbox([(.*?)])?)|(lyte(box|frame|show)([(.*?)])?)(\\s+|$)","g"),"","gi"))}"AREA"==t.nodeName&&(a||(a=i.Parameter.parse(c)),r=r||"AREA_ELEMENT",a.type||(o=/\b(ajax|iframe|image|flash|director|shockwave|mplayer|windowsmedia|quicktime|realaudio|real|divx|pdf)\b/.exec(t.className))&&(a.type=o[0])),/autopopup-(single|multiple)/.test(t.className)&&(d=/(multiple)/.test(t.className)?"multiple":"single"),d=d||a.autopopup||"",r=e(t).hasClass("nogroup")?"":r||a.group||"";var h=a.width||n.width,p=a.height||n.height;return e.each(["src","title","caption","group","width","height"],(function(e,t){delete a[t]})),/!\D/.test(h)&&(h=parseInt(h)),/!\D/.test(p)&&(p=parseInt(p)),e.extend(s,{node:t,src:c,title:l,caption:f,group:r,width:h,height:p,params:a,auto:d,type:u}),c=c.replace(/&type=(ajax|text\/html|text\/xml)/,""),t.setAttribute("href",c),s}}},create:function(t){var a=this,o=this.settings,n=!1;t||(n=!0,this.popups=[],1===o.legacy&&i.Convert.legacy(),1===o.lightbox&&i.Convert.lightbox(),1===o.shadowbox&&i.Convert.shadowbox()),this.elements=t||this.getPopups(),e(this.elements).removeClass("jcelightbox jcebox jcepopup").addClass("wfpopup").each((function(t){var s,r=a.process(this);if(!r)return!0;if(a.popups.push(r),n||(t=a.popups.length-1),"_blank"===e(this).attr("target")){var d=e(this).attr("rel")||"";-1===d.indexOf("noopener")&&(d+=" noopener"),-1===d.indexOf("noreferrer")&&(d+=" noreferrer"),e(this).attr("rel",e.trim(d))}if(e(this).attr("class",(function(e,t){return t.replace(/(zoom|icon)-(top|right|bottom|left|center)(-(top|right|bottom|left|center))?/,(function(e,t,i,a){var o="wf-icon-zoom-"+i;return a&&(o+=a),o}))})),1===o.icons&&!e(this).hasClass("noicon")){var c=e("img:first",this);if(c.length){var l={};e('<span class="wf-icon-zoom-image" />').html((function(){return i.getSVGIcon("search")})).insertAfter(c);var f=c.css("float");f&&"none"!==f&&(c.parent().css("float",f),c.css("float",""),e(this).addClass("wf-mediabox-has-float")),e.each(["top","right","bottom","left"],(function(e,t){var i=c.css("margin-"+t),a=c.css("padding-"+t);i&&/\d/.test(i)&&parseInt(i)>0&&c.parent().css("margin-"+t,i),a&&/\d/.test(a)&&parseInt(a)>0&&c.parent().css("padding-"+t,a)})),"auto"==(s=e(c).get(0)).style.marginLeft&&"auto"==s.style.marginRight&&"block"==s.style.display&&(l["max-width"]=c.width(),e(this).addClass("wf-mediabox-is-centered"),l["margin-left"]="",l["margin-right"]=""),c.css({margin:0,padding:0,float:"none"}),c.parent().css(l),e(this).addClass("wf-zoom-image")}else e('<span class="wf-icon-zoom-link" />').html((function(){return i.getSVGIcon("link")})).appendTo(this).find("svg").css("fill",e(this).css("color"))}e(this).on("click",(function(e){return e.preventDefault(),r.src=this.getAttribute("href"),a.activator=this,a.start(r,t)}))})),0===e(".wf-mediabox").length&&a.auto()},open:function(t,i,a,o,n){var s,r=0,d={};if("string"==typeof t&&e.extend(d,{src:t,title:i,group:a,type:o,params:n||{}}),t.nodeName&&("A"===t.nodeName||"AREA"===t.nodeName))if((s=e.inArray(this.elements,t))>=0)d=this.popups[s],r=s;else{d=this.process(t);r=this.popups.push(d),r--}return this.start(d,r)},start:function(t,i){var a,o=this,n=0,s=[];if(this.build()){t.group?(e.each(this.popups,(function(e,o){o.group===t.group&&(a=s.push(o),i&&e===i&&(n=a-1))})),t.auto||void 0!==i||(s.push(t),n=s.length-1)):s.push(t);var r=e(".wf-mediabox-overlay").css("transition-duration");return r=1e3*parseFloat(r)||300,window.setTimeout((function(){return o.show(s,n)}),r),!0}return!1},build:function(){var t=this,a=this.settings;if(0===e(".wf-mediabox").length){var o=e('<div class="wf-mediabox" role="dialog" aria-modal="true" aria-labelledby="" aria-describedby="" tabindex="-1" />').appendTo("body");o.addClass("wf-mediabox-overlay-transition"),i.Env.ie6&&o.addClass("ie6"),i.Env.iOS&&o.addClass("ios"),1===a.overlay&&e('<div class="wf-mediabox-overlay" tabindex="-1" />').appendTo(o).css("background-color",a.overlay_color),o.append('<div class="wf-mediabox-frame" role="document" tabindex="-1"><div class="wf-mediabox-loader" role="status" aria-label="'+this.translate("loading")+'" tabindex="-1"></div><div class="wf-mediabox-body" aria-hidden="true" tabindex="-1" /></div>'),o.addClass("wf-mediabox-theme-"+a.theme),i.Addons.Theme.parse(a.theme,(function(e){return t.translate(e)}),".wf-mediabox-body"),e(".wf-mediabox-frame").children().hide(),i.Env.iOS&&e(".wf-mediabox-content").css({webkitOverflowScrolling:"touch",overflow:"auto"}),2===a.close&&e(".wf-mediabox-frame").on("click",(function(e){e.target&&e.target===this&&t.close()})),e(".wf-mediabox-close, .wf-mediabox-cancel").on("click",(function(e){e.preventDefault(),t.close()})).attr("tabindex",0).attr("svg-icon",(function(t,a){a&&e(this).append(i.getSVGIcon(a))})),e(".wf-mediabox-next").on("click",(function(e){e.preventDefault(),t.nextItem()})).attr("tabindex",0).attr("svg-icon",(function(t,a){a&&e(this).append(i.getSVGIcon(a))})),e(".wf-mediabox-prev").on("click",(function(e){e.preventDefault(),t.previousItem()})).attr("tabindex",0).attr("svg-icon",(function(t,a){a&&e(this).append(i.getSVGIcon(a))})),e(".wf-mediabox-numbers").data("html",e(".wf-mediabox-numbers").html()).attr("aria-hidden",!0),o.addClass("wf-mediabox-open"),e(".wf-mediabox-overlay").css("opacity",a.overlayopacity||.8)}return!0},show:function(t,i){var a=this.settings;return this.items=t,this.bind(!0),e(".wf-mediabox-body").show(),1===a.overlay&&e(".wf-mediabox-overlay").length&&a.overlay_opacity&&e(".wf-mediabox-overlay").css("opacity",0).animate({opacity:parseFloat(a.overlay_opacity)},a.transition_speed),e(".wf-mediabox").addClass("wf-mediabox-transition-scale"),this.change(i)},bind:function(a){var o,n,s=this,r=this.settings;a?(e(document).on("keydown.wf-mediabox",(function(e){s.addListener(e)})),e(".wf-mediabox-body").on("touchstart",(function(e){1===e.originalEvent.touches.length&&1!==s.items.length&&(o=e.originalEvent.touches[0].clientX,n=e.originalEvent.touches[0].clientY)})).on("touchmove",(function(e){if(o&&n&&1===e.originalEvent.touches.length&&1!==s.items.length){var t=e.originalEvent.touches[0].clientX,i=e.originalEvent.touches[0].clientY,a=o-t,r=n-i;Math.abs(a)>Math.abs(r)&&(a>0?s.nextItem():s.previousItem(),e.preventDefault()),o=null,n=null}}))):(e(document).off("keydown.wf-mediabox"),e(".wf-mediabox").off("keydown.wf-mediabox"));var d=i.Tools.debounce((function(){var e=s.items[s.index];e&&s.updateBodyWidth(e)}),300);e(window).on("resize.wf-mediabox, orientationchange.wf-mediabox",d),r.autoplay&&(t=setInterval((function(){!1===s.nextItem()&&clearInterval(t)}),1e3*r.autoplay))},updateBodyWidth:function(t){var a,o,n,s=e(window).width(),r=e(window).height(),d=e(".wf-mediabox-frame").width(),c=e(".wf-mediabox-frame").height();if("scroll"===this.settings.scrolling){var l=e(".wf-mediabox-frame").css("padding-left"),f=e(".wf-mediabox-frame").css("padding-top");d=s-2*parseInt(l),c=r-2*parseInt(f)}if(a=i.Tools.parseWidth(t.width),o=i.Tools.parseHeight(t.height||c),e(".wf-mediabox-content").hasClass("wf-mediabox-content-ratio-flex")){var u=e(".wf-mediabox-body").height()-e(".wf-mediabox-content").height();u+=r-(o=Math.min(o,c)),e(".wf-mediabox-content-item").css("height","calc(100vh - "+u+"px)")}var m=i.Tools.resize(a,o,d,c).width;e(".wf-mediabox-body").css("max-width",m);var h=e(".wf-mediabox-body").height();n=d>c?(m/h).toFixed(1):(h/m).toFixed(1),h>c&&(m=n*(c-16)-32,e(".wf-mediabox-body").css("max-width",m))},addListener:function(e){switch(e.keyCode){case 27:this.close();break;case 37:this.previousItem();break;case 39:this.nextItem()}},queue:function(t){var i=this,a=!1;!function(){if(!a)a=!0,e(".wf-mediabox-body").removeClass("wf-mediabox-transition"),i.change(t)}()},nextItem:function(){if(1===this.items.length)return!1;var e=this.index+1;return!(e<0||e>=this.items.length)&&this.queue(e)},previousItem:function(){if(1===this.items.length)return!1;var e=this.index-1;return!(e<0||e>=this.items.length)&&this.queue(e)},info:function(){var t=this.items[this.index];if(e(".wf-mediabox-focus").removeClass("wf-mediabox-focus"),e("a[download]",".wf-mediabox-content").remove(),t.params.download&&e('<a href="'+t.src+'" target="_blank" download>'+this.translate("download")+"</a>").appendTo(".wf-mediabox-content"),e(".wf-mediabox-caption").length){var a=t.title||"",o=t.caption||"",n="",s=/([-!#$%&\'\*\+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&\'\*\+\\/0-9=?A-Z^_`a-z{|}~]+\.[-!#$%&\'*+\\./0-9=?A-Z^_`a-z{|}~]+)/gi,r="((news|telnet|nttp|file|http|ftp|https)://[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+)";r=/([a-zA-Z]{3,9}:\/\/[^\s]+)/gi;if(a=i.Entities.decode(a),o=i.Entities.decode(o),-1!==a.indexOf("::")){var d=a.split("::");a=e.trim(d[0]),o=e.trim(d[1])}a&&(n+='<h4 id="wf-mediabox-modal-title">'+a+"</h4>",e(".wf-mediabox").attr("aria-labelledby","wf-mediabox-modal-title")),o&&(n+='<p id="wf-mediabox-modal-description">'+o+"</p>",e(".wf-mediabox").attr("aria-describedby","wf-mediabox-modal-description")),e(".wf-mediabox-caption").html(n).addClass("wf-mediabox-caption-hidden"),n&&e(".wf-mediabox-caption").find(":not(a)").each((function(){var t=e(this).html();t&&/(@|:\/\/)/.test(t)&&-1===t.indexOf("<")&&(t=function(e){return(e=e.replace(s,'<a href="mailto:$1" target="_blank">$1</a>')).replace(r,'<a href="$1" target="_blank">$1</a>')}(t))&&e(this).replaceWith(t)}))}var c=this,l=this.items.length;if(e(".wf-mediabox-numbers").length&&l>1){var f=e(".wf-mediabox-numbers").data("html")||"{{numbers}}";if(-1!==f.indexOf("{{numbers}}")){e(".wf-mediabox-numbers").empty().append("<ol />");for(var u=0;u<l;u++){var m=u+1,h=(a=this.items[u].title||m,e('<button aria-label="'+a+'" tabindex="0" class="wf-mediabox-number" />').html(m));this.index===u&&e(h).addClass("active"),e("<li />").append(h).appendTo(e("ol",".wf-mediabox-numbers")),e(h).on("click",(function(e){var t=parseInt(e.target.innerHTML)-1;return c.index!=t&&c.queue(t)}))}}-1!==f.indexOf("{{current}}")&&e(".wf-mediabox-numbers").html(f.replace("{{current}}",this.index+1).replace("{{total}}",l)),e(".wf-mediabox-numbers").attr("aria-hidden",!1)}else e(".wf-mediabox-numbers").empty().attr("aria-hidden",!0);e(".wf-mediabox-info-top, .wf-mediabox-info-bottom").show(),e(".wf-mediabox-next, .wf-mediabox-prev").hide().attr("aria-hidden",!0),l>1?(this.index>0?e(".wf-mediabox-prev").show().attr("aria-hidden",!1).addClass("wf-mediabox-focus"):e(".wf-mediabox-prev").hide().attr("aria-hidden",!0),this.index<l-1?e(".wf-mediabox-next").show().attr("aria-hidden",!1).addClass("wf-mediabox-focus"):e(".wf-mediabox-next").hide().attr("aria-hidden",!0)):e(".wf-mediabox-close").addClass("wf-mediabox-focus"),t.params.css&&e(".wf-mediabox-body").addClass(t.params.css),l>1&&(e(".wf-mediabox-thumbnails").empty(),e.each(this.items,(function(t,i){e('<img src="'+i.src+'" class="loading" />').on("click",(function(){return c.queue(t)})).toggleClass("active",c.index==t).on("load",(function(){e(this).removeClass("loading")})).appendTo(".wf-mediabox-thumbnails")})))},change:function(t){var a;if(this.settings,t<0||t>=this.items.length)return!1;this.index=t,e(".wf-mediabox-container, .wf-mediabox-cancel").show(),e(".wf-mediabox").addClass("wf-mediabox-loading").find(".wf-mediabox-loader").attr("aria-hidden",!1),a=this.items[t];var o="error",n="",s=i.Addons.Plugin.getPlugin(a);return s&&(n=s.html(a),o=s.type,!a.width&&s.width&&(a.width=s.width),!a.height&&s.height&&(a.height=s.height),a.type=o),e(".wf-mediabox-content").attr("class","wf-mediabox-content").addClass("wf-mediabox-content-"+o).css("height",""),a.html=n,this.items[t]=a,this.setup(),!1},setup:function(){this.info(),i.Env.ie&&e(".wf-mediabox-content img").css("-ms-interpolation-mode","bicubic");var t=0;return e(".wf-mediabox").on("keydown.wf-mediabox",(function(i){if(9===i.keyCode){i.preventDefault();var a=e(".wf-mediabox").find("[tabindex]:visible").filter((function(){return parseInt(this.getAttribute("tabindex"))>=0}));a.each((function(i){e(this).hasClass("wf-mediabox-focus")&&(t=i)})),t=Math.max(t,0),i.shiftKey?t--:t++,(t=Math.max(t,0))===a.length&&(t=0),a.removeClass("wf-mediabox-focus"),a.eq(t).focus().addClass("wf-mediabox-focus")}})),this.animate()},animate:function(){function t(){if(d.empty().remove(),"IFRAME"!==this.nodeName&&e(".wf-mediabox-content-item").html(n.html),e(".wf-mediabox").removeClass("wf-mediabox-loading").find(".wf-mediabox-loading").attr("aria-hidden",!0),e(".wf-mediabox-content-item").css("padding-bottom",""),e(".wf-mediabox").addClass("wf-mediabox-show"),e(".wf-mediabox-info-top, .wf-mediabox-info-bottom").addClass("wf-info-show"),"IMG"===this.nodeName)s=s||this.naturalWidth||this.width,r=r||this.naturalHeight||this.height,s=i.Tools.parseWidth(s),r=i.Tools.parseWidth(r),n.width=s,n.height=r;else{if("VIDEO"===this.nodeName&&(s=s||this.videoWidth||0,r=r||this.videoHeight||0),(s=s||640)&&r){var t=i.Tools.parseWidth(s),c=i.Tools.parseHeight(r),l=parseFloat((c/t).toFixed(2));e(this).is(".wf-mediabox-iframe-video, .wf-mediabox-video, .wf-mediabox-audio")&&(l=.56),.75===l?e(".wf-mediabox-content").addClass("wf-mediabox-content-ratio-4by3"):.56!==l&&e(".wf-mediabox-content").addClass("wf-mediabox-content-ratio-flex")}e(".wf-mediabox-content-item").addClass("wf-mediabox-content-ratio"),n.width=s}if(a.updateBodyWidth(n),"scroll"===o.scrolling&&(e("body").addClass("wf-mediabox-scrolling"),function(t,i){if("scrollBehavior"in document.documentElement.style)try{return void e(t).get(0).scrollIntoView({block:"center"})}catch(e){}var a=e(t).offset().top+e(t).outerHeight(!0)/2,o=window.innerHeight/2;window.scrollTo(0,a-o)}(".wf-mediabox-body")),e(".wf-mediabox-body").addClass("wf-mediabox-transition").attr("aria-hidden",!1),e(".wf-mediabox-focus").focus(),"IFRAME"===this.nodeName){var f=this;setTimeout((function(){f.contentWindow.focus()}),10)}"VIDEO"!==this.nodeName&&"AUDIO"!==this.nodeName||i.Env.ie&&this.autoplay&&this.play(),e(this).trigger("mediabox:load")}var a=this,o=this.settings,n=this.items[this.index],s=n.width||0,r=n.height||0;e(".wf-mediabox-content").removeClass("wf-mediabox-broken-image wf-mediabox-broken-media"),e(".wf-mediabox-content .wf-icon-404").removeClass("wf-icon-404").find("svg").remove(),e(".wf-mediabox-caption").removeClass("wf-mediabox-caption-hidden"),e(".wf-mediabox-content").hasClass("wf-mediabox-content-ajax")&&e(".wf-mediabox-body").css("max-width",640);var d=e('<div class="wf-mediabox-cache" />');"iframe"==n.type||"ajax"==n.type?e(".wf-mediabox-content-item").html(n.html):d.html(n.html).appendTo(".wf-mediabox"),e("img, video, audio, object, embed",d).add("iframe",".wf-mediabox-content").one("load loadedmetadata",(function(e){var i=this;setTimeout((function(){t.apply(i)}),300)})).on("error",(function(t){var a=this;d.empty().remove(),e(".wf-mediabox").removeClass("wf-mediabox-loading"),e(".wf-mediabox-content").addClass((function(){return"IMG"===a.nodeName?"wf-mediabox-broken-image":"wf-mediabox-broken-media"})),e(".wf-mediabox-body").addClass("wf-mediabox-transition").css("max-width","").attr("aria-hidden",!1),e(".wf-mediabox").addClass("wf-mediabox-show"),e(".wf-mediabox-content > div").addClass("wf-icon-404").html((function(){return i.getSVGIcon("404")}))}))},close:function(i){var a=this,o=e(".wf-mediabox-container").css("transition-duration");o=1e3*parseFloat(o)||300,e(".wf-mediabox-body").removeClass("wf-mediabox-transition");var n=setTimeout((function(){if(e("iframe, video",".wf-mediabox-content-item").attr("src",""),e(".wf-mediabox-content-item").empty(),clearTimeout(n),!i){a.bind(!1),e(".wf-mediabox-info-bottom, .wf-mediabox-info-top").hide(),e(".wf-mediabox-frame").remove();var t=e(".wf-mediabox-overlay").css("transition-duration");t=1e3*parseFloat(t)||300,e(".wf-mediabox").removeClass("wf-mediabox-open wf-mediabox-show"),e(".wf-mediabox-overlay").css("opacity",0);var o=setTimeout((function(){e(".wf-mediabox").remove(),e("body").removeClass("wf-mediabox-scrolling"),clearTimeout(o)}),t);a.activator&&e(a.activator).focus()}}),o);return e(".wf-mediabox-close").hide(),window.clearInterval(t),!1}};window.WfMediabox=window.jcepopup=i}(jQuery),function(){var e,t,i,a,o,n,s,r,d=navigator,c=d.userAgent;e=window.opera&&window.opera.buildNumber,android=/Android/.test(c),a=(i=(i=(i=!(t=/WebKit/.test(c))&&!e&&/MSIE/gi.test(c)&&/Explorer/gi.test(d.appName))&&/MSIE (\w+)\./.exec(c)[1])&&!t)&&!window.XMLHttpRequest,ie11=-1!=c.indexOf("Trident/")&&(-1!=c.indexOf("rv:")||-1!=d.appName.indexOf("Netscape"))&&11,i=i||ie11,o=!t&&!i&&/Gecko/.test(c),n=-1!=c.indexOf("Mac"),s=/(iPad|iPhone)/.test(c),r=/Android/.test(c),Mobile=s||r;var l={opera:e,webkit:t,ie6:a,ie:i,gecko:o,mac:n,iOS:s,android:r,video:function(){var e=document.createElement("video"),t={};try{if(e.canPlayType){t.ogg=e.canPlayType('video/ogg; codecs="theora"');var i='video/mp4; codecs="avc1.42E01E';return t.mp4=e.canPlayType(i+'"')||e.canPlayType(i+', mp4a.40.2"'),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"'),t}}catch(e){}return!1}(),audio:function(){var e=document.createElement("audio"),t={};try{if(e.canPlayType)return t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"'),t.mp3=e.canPlayType("audio/mpeg;"),t.wav=e.canPlayType('audio/wav; codecs="1"'),t.m4a=e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;"),t.webm=e.canPlayType('audio/webm; codecs="vp8, vorbis"'),t}catch(e){}return!1}(),mobile:Mobile};window.WfMediabox.Env=l}(),function(e){var t={},i={};!function(e){var t,a,o,n="application/x-director,dcr,video/divx,divx,application/pdf,pdf,application/x-shockwave-flash,swf swfl,audio/mpeg,mpga mpega mp2 mp3,audio/ogg,ogg spx oga,audio/x-wav,wav,video/mpeg,mpeg mpg mpe,video/mp4,mp4 m4v,video/ogg,ogg ogv,video/webm,webm,video/quicktime,qt mov,video/x-flv,flv,video/vnd.rn-realvideo,rv".split(/,/);for(t=0;t<n.length;t+=2)for(o=n[t+1].split(/ /),a=0;a<o.length;a++)i[o[a]]=n[t]}(),e.each({flash:{classid:"CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",type:"application/x-shockwave-flash",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,1,53,64"},shockwave:{classid:"CLSID:166B1BCA-3F9C-11CF-8075-444553540000",type:"application/x-director",codebase:"http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=10,2,0,023"},windowsmedia:{classid:"CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6",type:"application/x-mplayer2",codebase:"http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=10,00,00,3646"},quicktime:{classid:"CLSID:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",type:"video/quicktime",codebase:"http://www.apple.com/qtactivex/qtplugin.cab#version=7,3,0,0"},divx:{classid:"CLSID:67DABFBF-D0AB-41FA-9C46-CC0F21721616",type:"video/divx",codebase:"http://go.divx.com/plugin/DivXBrowserPlugin.cab"},realmedia:{classid:"CLSID:CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA",type:"audio/x-pn-realaudio-plugin"},java:{classid:"CLSID:8AD9C840-044E-11D1-B3E9-00805F499D93",type:"application/x-java-applet",codebase:"http://java.sun.com/products/plugin/autodl/jinstall-1_5_0-windows-i586.cab#Version=1,5,0,0"},silverlight:{classid:"CLSID:DFEAF541-F3E1-4C24-ACAC-99C30715084A",type:"application/x-silverlight-2"},video:{type:"video/mpeg"},audio:{type:"audio/mpeg"},iframe:{}},(function(e,i){i.name=e,i.classid&&(t[i.classid]=i),i.type&&(t[i.type]=i),t[e.toLowerCase()]=i}));var a={props:function(e){return t[e]||!1},guess:function(e){return i[e]||!1}};window.WfMediabox.Mimetype=a}(jQuery),function(){var e={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},t={encode:function(t){return(""+t).replace(/[<>&\"\']/g,(function(t){return e[t]||t}))},decode:function(e){var t;try{e=decodeURIComponent(e)}catch(e){}return(t=document.createElement("div")).innerHTML=e,t.innerHTML||e}};window.WfMediabox.Entities=t}(),function(e,t){var i={parse:function(i){var a=[],o=[];if("string"==typeof i){if(/^\{[\w\W]+\}$/.test(i))return e.parseJSON(i);if(/\w+\[[^\]]+\]/.test(i)){var n=[];return e.each(i.split(";"),(function(e,t){var i=t.match(/([\w]+)\[([^\]]+)\]/);3==i.length&&n.push('"'+i[1]+'":"'+i[2]+'"')})),e.parseJSON("{"+n.join(",")+"}")}-1!==i.indexOf("=")&&(-1!==i.indexOf("&")?o=i.split(/&(amp;)?/g):o.push(i))}return e.isArray(i)&&(o=i),e.each(o,(function(i,o){o&&((o=o.replace(/^([^\[]+)(\[|=|:)([^\]]*)(\]?)$/,(function(i,a,o,n){return n?/[^0-9]/.test(n)?'"'+a+'":"'+t.encode(e.trim(n))+'"':'"'+a+'":'+parseInt(n):""})))&&a.push(o))})),e.parseJSON("{"+a.join(",")+"}")}};window.WfMediabox.Parameter=i}(jQuery,WfMediabox.Entities),function(){window.sessionStorage||(window.sessionStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},window.sessionStorage.length=(document.cookie.match(/\=/g)||window.sessionStorage).length);var e={get:function(e){return sessionStorage.getItem(e)},set:function(e,t){return sessionStorage.setItem(e,t)}};window.WfMediabox.Storage=e}(),function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(t){var i,a,o,n,s,r,d,c="",l=0;for(t=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t}(t);l<t.length;)n=(i=t.charCodeAt(l++))>>2,s=(3&i)<<4|(a=t.charCodeAt(l++))>>4,r=(15&a)<<2|(o=t.charCodeAt(l++))>>6,d=63&o,isNaN(a)?r=d=64:isNaN(o)&&(d=64),c=c+e.charAt(n)+e.charAt(s)+e.charAt(r)+e.charAt(d);return c},i=function(t){var i,a,o,n,s,r,d="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)i=e.indexOf(t.charAt(c++))<<2|(n=e.indexOf(t.charAt(c++)))>>4,a=(15&n)<<4|(s=e.indexOf(t.charAt(c++)))>>2,o=(3&s)<<6|(r=e.indexOf(t.charAt(c++))),d+=String.fromCharCode(i),64!=s&&(d+=String.fromCharCode(a)),64!=r&&(d+=String.fromCharCode(o));return function(e){for(var t="",i=0,a=0,o=0,n=0;i<e.length;)(a=e.charCodeAt(i))<128?(t+=String.fromCharCode(a),i++):a>191&&a<224?(o=e.charCodeAt(i+1),t+=String.fromCharCode((31&a)<<6|63&o),i+=2):(o=e.charCodeAt(i+1),n=e.charCodeAt(i+2),t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&n),i+=3);return t}(d)};window.btoa||(window.btoa=t),window.atob||(window.atob=i)}(),function(e,t){var i={legacy:function(){e("a[href]").each((function(){if(/com_jce/.test(this.href)){var i,a,o=e(this).attr("onclick");if(o){a=o.replace(/&#39;/g,"'").split("'");var n=(i=t.parse(a[1])).img||"",s=i.title||""}n&&(/http:\/\//.test(n)||("/"===n.charAt(0)&&(n=n.substr(1)),n=JCEMediaBox.site.replace(/http:\/\/([^\/]+)/,"")+n),e(this).attr({href:n,title:s.replace(/_/," "),onclick:""}),e(this).addClass("jcepopup"))}}))},lightbox:function(){e("a[rel*=lightbox]").addClass("jcepopup").each((function(){var t=this.rel.replace(/lightbox\[?([^\]]*)\]?/,(function(e,t){return t?"group["+t+"]":""}));e(this).attr("rel",t)}))},shadowbox:function(){e("a[rel*=shadowbox]").addClass("jcepopup").each((function(){var t=this.rel.replace(/shadowbox\[?([^\]]*)\]?/,(function(e,t){var i="",a="";return t&&(a="group["+t+"]"),/;=/.test(e)&&(i=e.replace(/=([^;"]+)/g,(function(e,t){return"["+t+"]"}))),a&&i?a+";"+i:a||i||""}));e(this).attr("rel",t)}))}};window.WfMediabox.Convert=i}(jQuery,WfMediabox.Parameter),function(e){function t(){this.items=[],this.lookup={}}t.prototype={add:function(e,t){return this.items.push(t),this.lookup[e]={instance:t},t},get:function(e){return e&&this.lookup[e]?this.lookup[e].instance:this.lookup}},t.Plugin=new t,t.Theme=new t,t.Plugin.getPlugin=function(t,i){var a,o;return a=this.get(i),e.each(a,(function(e,i){var a=new(0,i.instance)(t);if(a&&a.is(t))return o=a,!1})),o},t.Theme.parse=function(t,i,a){var o,n=this.get(t);if("function"!=typeof n&&(n=this.get("standard")),o=new n)return a||(a=document.createElement("div")),i||(i=function(e){return e}),function t(a,o){e.each(a,(function(a,n){if("string"==typeof n)n=i(n),"text"===a?e(o).html(n):e(o).attr(a,n);else if(e.isArray(n))t(n,o);else if("string"==typeof a){var s=document.createElement(a);e(o).append(s),t(n,s)}else t(n,o)}))}(o,a),a},window.WfMediabox.Addons=t,window.WfMediabox.Plugin=t.Plugin,window.WfMediabox.Theme=t.Theme}(jQuery),function(e){var t={close:{standard:"M720.571 309.714q0 14.857-10.857 25.714l-103.429 103.429 103.429 103.429q10.857 10.857 10.857 25.714 0 15.429-10.857 26.286l-51.429 51.429q-10.857 10.857-26.286 10.857-14.857 0-25.714-10.857l-103.429-103.429-103.429 103.429q-10.857 10.857-25.714 10.857-15.429 0-26.286-10.857l-51.429-51.429q-10.857-10.857-10.857-26.286 0-14.857 10.857-25.714l103.429-103.429-103.429-103.429q-10.857-10.857-10.857-25.714 0-15.429 10.857-26.286l51.429-51.429q10.857-10.857 26.286-10.857 14.857 0 25.714 10.857l103.429 103.429 103.429-103.429q10.857-10.857 25.714-10.857 15.429 0 26.286 10.857l51.429 51.429q10.857 10.857 10.857 26.286zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z",squeeze:"M690.857 334.286l-83.429-83.429q-5.714-5.714-13.143-5.714t-13.143 5.714l-78.286 78.286-78.286-78.286q-5.714-5.714-13.143-5.714t-13.143 5.714l-83.429 83.429q-5.714 5.714-5.714 13.143t5.714 13.143l78.286 78.286-78.286 78.286q-5.714 5.714-5.714 13.143t5.714 13.143l83.429 83.429q5.714 5.714 13.143 5.714t13.143-5.714l78.286-78.286 78.286 78.286q5.714 5.714 13.143 5.714t13.143-5.714l83.429-83.429q5.714-5.714 5.714-13.143t-5.714-13.143l-78.286-78.286 78.286-78.286q5.714-5.714 5.714-13.143t-5.714-13.143zM813.714 438.857q0 84.571-41.714 156t-113.143 113.143-156 41.714-156-41.714-113.143-113.143-41.714-156 41.714-156 113.143-113.143 156-41.714 156 41.714 113.143 113.143 41.714 156zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z",shadow:""},next:{standard:"M798.286 438.857q0 15.429-10.286 25.714l-258.857 258.857q-10.286 10.286-25.714 10.286t-25.714-10.286l-52-52q-10.286-10.286-10.286-25.714t10.286-25.714l108-108h-286.857q-14.857 0-25.714-10.857t-10.857-25.714v-73.143q0-14.857 10.857-25.714t25.714-10.857h286.857l-108-108q-10.857-10.857-10.857-25.714t10.857-25.714l52-52q10.286-10.286 25.714-10.286t25.714 10.286l258.857 258.857q10.286 10.286 10.286 25.714zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z",squeeze:"M740.571 438.857q0-21.143-18.286-31.429l-310.857-182.857q-8.571-5.143-18.286-5.143-9.143 0-18.286 4.571-18.286 10.857-18.286 32v365.714q0 21.143 18.286 32 18.857 10.286 36.571-0.571l310.857-182.857q18.286-10.286 18.286-31.429zM813.714 438.857q0 84.571-41.714 156t-113.143 113.143-156 41.714-156-41.714-113.143-113.143-41.714-156 41.714-156 113.143-113.143 156-41.714 156 41.714 113.143 113.143 41.714 156zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z",shadow:"M25.714 7.428q-10.857-10.857-18.286-7.429t-7.429 18.286v841.143q0 14.857 7.429 18.286t18.286-7.429l405.714-405.714q5.143-5.143 7.429-10.857v405.714q0 14.857 7.429 18.286t18.286-7.429l405.714-405.714q10.857-10.857 10.857-25.714t-10.857-25.714l-405.714-405.714q-10.857-10.857-18.286-7.429t-7.429 18.286v405.714q-2.286-5.714-7.429-10.857z"},prev:{standard:"M795.429 402.286v73.143q0 14.857-10.857 25.714t-25.714 10.857h-286.857l108 108q10.857 10.857 10.857 25.714t-10.857 25.714l-52 52q-10.286 10.286-25.714 10.286t-25.714-10.286l-258.857-258.857q-10.286-10.286-10.286-25.714t10.286-25.714l258.857-258.857q10.286-10.286 25.714-10.286t25.714 10.286l52 52q10.286 10.286 10.286 25.714t-10.286 25.714l-108 108h286.857q14.857 0 25.714 10.857t10.857 25.714zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z",squeeze:"M283.429 438.857q0-21.143 18.286-31.429l310.857-182.857q8.571-5.143 18.286-5.143 9.143 0 18.286 4.571 18.286 10.857 18.286 32v365.714q0 21.143-18.286 32-18.857 10.286-36.571-0.571l-310.857-182.857q-18.286-10.286-18.286-31.429zM210.286 438.857q0 84.571 41.714 156t113.143 113.143 156 41.714 156-41.714 113.143-113.143 41.714-156-41.714-156-113.143-113.143-156-41.714-156 41.714-113.143 113.143-41.714 156zM82.286 438.857q0-119.429 58.857-220.286t159.714-159.714 220.286-58.857 220.286 58.857 159.714 159.714 58.857 220.286-58.857 220.286-159.714 159.714-220.286 58.857-220.286-58.857-159.714-159.714-58.857-220.286z",shadow:"M925.143 870.286q10.857 10.857 18.286 7.429t7.429-18.286v-841.143q0-14.857-7.429-18.286t-18.286 7.429l-405.714 405.714q-5.143 5.143-7.429 10.857v-405.714q0-14.857-7.429-18.286t-18.286 7.429l-405.714 405.714q-10.857 10.857-10.857 25.714t10.857 25.714l405.714 405.714q10.857 10.857 18.286 7.429t7.429-18.286v-405.714q2.286 5.714 7.429 10.857z"},search:"M292.714 475.428q0 105.714 75.143 180.857t180.857 75.143 180.857-75.143 75.143-180.857-75.143-180.857-180.857-75.143-180.857 75.143-75.143 180.857zM0.143 0q0-29.714 21.714-51.429t51.429-21.714q30.857 0 51.429 21.714l196 195.429q102.286-70.857 228-70.857 81.714 0 156.286 31.714t128.571 85.714 85.714 128.571 31.714 156.286-31.714 156.286-85.714 128.571-128.571 85.714-156.286 31.714-156.286-31.714-128.571-85.714-85.714-128.571-31.714-156.286q0-125.714 70.857-228l-196-196q-21.143-21.143-21.143-51.429z",link:"M804.571 420.571v-182.857q0-68-48.286-116.286t-116.286-48.286h-475.429q-68 0-116.286 48.286t-48.286 116.286v475.429q0 68 48.286 116.286t116.286 48.286h402.286q8 0 13.143-5.143t5.143-13.143v-36.571q0-8-5.143-13.143t-13.143-5.143h-402.286q-37.714 0-64.571-26.857t-26.857-64.571v-475.429q0-37.714 26.857-64.571t64.571-26.857h475.429q37.714 0 64.571 26.857t26.857 64.571v182.857q0 8 5.143 13.143t13.143 5.143h36.571q8 0 13.143-5.143t5.143-13.143zM1024 914.286v-292.571q0-14.857-10.857-25.714t-25.714-10.857-25.714 10.857l-100.571 100.571-372.571-372.571q-5.714-5.714-13.143-5.714t-13.143 5.714l-65.143 65.143q-5.714 5.714-5.714 13.143t5.714 13.143l372.571 372.571-100.571 100.571q-10.857 10.857-10.857 25.714t10.857 25.714 25.714 10.857h292.571q14.857 0 25.714-10.857t10.857-25.714z",404:"M712 248.571q4.571-14.286-2.286-27.714t-21.143-18-28 2.286-18.286 21.714q-14.286 45.714-52.857 74t-86.571 28.286-86.571-28.286-52.857-74q-4.571-14.857-18-21.714t-27.714-2.286q-14.857 4.571-21.714 18t-2.286 27.714q21.143 69.143 78.857 111.429t130.286 42.286 130.286-42.286 78.857-111.429zM429.714 585.143q0-30.286-21.429-51.714t-51.714-21.429-51.714 21.429-21.429 51.714 21.429 51.714 51.714 21.429 51.714-21.429 21.429-51.714zM722.286 585.143q0-30.286-21.429-51.714t-51.714-21.429-51.714 21.429-21.429 51.714 21.429 51.714 51.714 21.429 51.714-21.429 21.429-51.714zM868.571 438.857q0 74.286-29.143 142t-78 116.571-116.571 78-142 29.143-142-29.143-116.571-78-78-116.571-29.143-142 29.143-142 78-116.571 116.571-78 142-29.143 142 29.143 116.571 78 78 116.571 29.143 142zM941.714 438.857q0-119.429-58.857-220.286t-159.714-159.714-220.286-58.857-220.286 58.857-159.714 159.714-58.857 220.286 58.857 220.286 159.714 159.714 220.286 58.857 220.286-58.857 159.714-159.714 58.857-220.286z"};window.WfMediabox.getSVGIcon=function(i,a){var o=e('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 1024 1024"><g stroke="none" stroke-width="1"></g><path></path></svg>');o.attr(a||{});var n=i.split(":"),s=n[0],r=n[1]||"",d=t[s];return"object"==typeof d&&r&&(d=d[r]||""),d?(o.find("path").attr("d",d),e("<div />").append(o).html()):""}}(jQuery),function(e){function t(){return(new Date).getTime()}var i={debounce:function(e,i,a){var o,n,s,r,d,c=function(){var l=t()-r;l<i&&l>0?o=setTimeout(c,i-l):(o=null,a||(d=e.apply(s,n),o||(s=n=null)))};return function(){s=this,n=arguments,r=t();var l=a&&!o;return o||(o=setTimeout(c,i)),l&&(d=e.apply(s,n),s=n=null),d}},resize:function(e,t,i,a){return e>i?(t*=i/e,e=i,t>a&&(e*=a/t,t=a)):t>a&&(e*=a/t,t=a,e>i&&(t*=i/e,e=i)),e=Math.round(e),t=Math.round(t),{width:Math.round(e),height:Math.round(t)}},parseWidth:function(t){return/%/.test(t)&&(t=Math.floor(e(window).width()*parseInt(t)/100)),/\d/.test(t)&&(t=parseInt(t)),t},parseHeight:function(t){return/%/.test(t)&&(t=Math.floor(e(window).height()*parseInt(t)/100)),/\d/.test(t)&&(t=parseInt(t)),t}};window.WfMediabox.Tools=i}(jQuery),function(e,t){function i(t){return-1!==e.inArray(t,["async","checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected","autoplay","loop","controls","itemscope","playsinline","contenteditable","spellcheck","contextmenu","draggable","hidden"])}function a(e){return!/^([a-z]+)?:\/\//.test(e)||new RegExp("("+t.site+")").test(e)}function o(t){var i={};return t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e.each(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],(function(e,a){var o=t[e];o&&(i[a]=o)})),i}function n(e){if(!t.settings.convert_local_url)return e;var i,n,s=o(e);return a(e)&&(s.query?-1==s.query.indexOf("tmpl")&&(s.query+="&tmpl=component"):s.query="tmpl=component"),n="",(i=s).protocol&&(n+=i.protocol+"://"),i.userInfo&&(n+=i.userInfo+"@"),i.host&&(n+=i.host),i.port&&(n+=":"+i.port),i.path&&(n+=i.path),i.query&&(n+="?"+i.query),i.anchor&&(n+="#"+i.anchor),n}function s(e,t){delete e.group,delete e.title,delete e.caption,delete e.width,delete e.height;var i=["id","name","style","codebase","classid","type","data"],a='<object class="wf-mediabox-focus"';for(var o in e)-1!==i.indexOf(o)&&"string"==typeof e[o]&&(a+=" "+o+'="'+decodeURIComponent(e[o])+'"',delete e[o]);for(var o in a+=">",e)"string"==typeof e[o]&&(a+=' <param name="'+o+'" value="'+decodeURIComponent(e[o])+'" />');if(t){for(var o in a+="<embed",e)"string"==typeof e[o]&&(a+=" "+o+'="'+decodeURIComponent(e[o])+'"');a+="></embed>"}return a+"</object>"}function r(e,t){return'<iframe src="'+e+'" frameborder="0" scrolling="0" allowfullscreen="allowfullscreen" />'}t.Plugin.add("flash",(function(){this.type="object",this.html=function(t){return t.type="application/x-shockwave-flash",t.data=t.src,e(s(t,!0))},this.is=function(e){return/\.swf\b/.test(e.src)}})),t.Plugin.add("video",(function(){this.type="video",this.html=function(a){var o,n=['class="wf-mediabox-video wf-mediabox-focus"'],s=a.params||{};for(o in s)i(o)?n.push(o):n.push(o+'="'+s[o]+'"');s.autoplay||n.push("controls"),t.Env.mobile&&n.push("playsinline");var r=a.src.split(".").pop(),d=t.Mimetype.guess(r)||"video/mpeg";return e("<video "+n.join(" ")+' tabindex="0" />').on("loadedmetadata",(function(t){e(this).attr({width:this.videoWidth||"",height:this.videoHeight||""})})).append('<source src="'+a.src+'" type="'+d+'" />')},this.is=function(e){var i=e.src;return i=i.split("?")[0],(/video\/(mp4|mpeg|webm|ogg)/.test(e.type)||/\.(mp4|webm|ogg)\b/.test(i))&&t.Env.video}})),t.Plugin.add("audio",(function(){this.type="audio",this.html=function(t){var a,o=['src="'+t.src+'"','class="wf-mediabox-audio wf-mediabox-focus"'],n=t.params||{};for(a in n)i(a)?o.push(a):o.push(a+'="'+n[a]+'"');return n.autoplay||o.push("controls"),e("<audio "+o.join(" ")+' tabindex="0" />')},this.is=function(e){var i=e.src;return i=i.split("?")[0],(/audio\/(mp3|mpeg|oga|x-wav)/.test(e.type)||/\.(mp3|oga|wav|m4a)\b/.test(i))&&t.Env.audio}})),t.Plugin.add("dailymotion",(function(){this.is=function(e){return/dai\.?ly(motion)/.test(e.src)},this.width=480,this.type="iframe",this.html=function(t){var i,a,o,n=e(r((i=t.src,a="https://dailymotion.com/embed/video/",(o=i.match(/dai\.?ly(motion)?(.+)?\/(swf|video)?\/?([a-z0-9]+)_?/))&&(a+=o[4]),a)));return e(n).addClass("wf-mediabox-iframe-video"),n}})),t.Plugin.add("quicktime",(function(){this.html=function(t){return t.type="video/quicktime",t.classid="clsid:02bf25d5-8c17-4b23-bc80-d3488abddc6b",t.codebase="https://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0",e(s(t))},this.type="object",this.width=853,this.is=function(e){return/\.(mov)\b/.test(e.src)}})),t.Plugin.add("windowsmedia",(function(){this.type="object",this.html=function(t){return t.type="application/x-mplayer2",t.classid="clsid:6bf52a52-394a-11d3-b153-00c04f79faa6",t.codebase="https://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701",e(s(t,!0))},this.is=function(e){return/\.(wmv|avi)\b/.test(e.src)}})),t.Plugin.add("youtube",(function(){this.is=function(e){return/youtu(\.)?be([^\/]+)?\/(.+)/.test(e.src)},this.width=560,this.type="iframe",this.html=function(t){var i=t.src.replace(/youtu(\.)?be([^\/]+)?\/(.+)/,(function(e,t,i,a){return t&&!i&&(i=".com"),-1===(a=a.replace(/(watch\?v=|v\/|embed\/)/,"")).indexOf("?")&&(a=a.replace(/&/,"?")),"youtube"+i+"/embed/"+a})).replace(/\/\/youtube/i,"//www.youtube").replace(/^http:\/\//,"https://"),a=e(r(i));if(t.params){var o=["accelerometer","encrypted-media","gyroscope","picture-in-picture","allowfullscreen"],n={};e.each(t.params,(function(e,t){-1!==e.indexOf("youtube-")&&(e=e.replace("youtube-",""),n[e]=t,t&&o.push(e))})),o.length&&e(a).attr("allow",o.join(";")),(n=e.param(n))&&(i+=-1!==i.indexOf("?")?"&"+n:"?"+n,e(a).attr("src",i))}return e(a).addClass("wf-mediabox-iframe-video"),a}})),t.Plugin.add("vimeo",(function(){this.is=function(e){return/vimeo\.com\/(\w+\/)?(\w+\/)?([0-9]+)/.test(e.src)},this.width=500,this.type="iframe",this.html=function(t){var i=t.src.replace(/(player[\/\.])?vimeo\.com\/(\w+\/)?(\w+\/)?([0-9]+)/,(function(e,t,i,a,o){return t?e:"player.vimeo.com/video/"+o})).replace(/^http:\/\//,"https://"),a=e(r(i));if(e(a).addClass("wf-mediabox-iframe-video"),t.params){var o={};e.each(t.params,(function(e,t){-1!==e.indexOf("vimeo-")&&(e=e.replace("vimeo-",""),o[e]=t)})),(o=e.param(o))&&(i+=-1!==i.indexOf("?")?"&"+o:"?"+o,e(a).attr("src",i))}return a}})),e(".wf-mediabox").on("WfMediabox:plugin",(function(i,o){if(function(e){var t=e.src;return t=t.split("?")[0],/image\/?/.test(e.type)||/\.(jpg|jpeg|png|apng|gif|bmp|tif|webp)$/i.test(t)}(o)){var n=e('<img src="'+o.src+'" class="wf-mediabox-img" alt="'+decodeURIComponent(o.alt||o.title||"")+'" tabindex="0" />');return o.params&&e.each(o.params,(function(e,i){"srcset"===e&&(i=i.replace(/(?:[^\s]+)\s*(?:[\d\.]+[wx])?(?:\,\s*)?/gi,(function(e){return a(e)?t.site+e:e}))),n.attr(e,i)})),n}return""})),t.Plugin.add("image",(function(){this.type="image",this.html=function(i){var o=e('<img src="'+i.src+'" class="wf-mediabox-img" alt="'+decodeURIComponent(i.alt||i.title||"")+'" tabindex="0" />');return i.params&&e.each(i.params,(function(e,i){"srcset"===e&&(i=i.replace(/(?:[^\s]+)\s*(?:[\d\.]+[wx])?(?:\,\s*)?/gi,(function(e){return a(e)?t.site+e:e}))),o.attr(e,i)})),o},this.is=function(e){var t=e.src;return t=t.split("?")[0],/image\/?/.test(e.type)||/\.(jpg|jpeg|png|gif|bmp|tif|webp)$/i.test(t)}})),t.Plugin.add("pdf",(function(){this.type="iframe",this.html=function(t){var i=t.title||"PDF Iframe";return t.width=t.width||"100%",t.height=t.height||"100%",e('<iframe src="'+t.src+'" frameborder="0" aria-label="'+i+'" />')},this.is=function(e){return"pdf"===e.type||/application\/(x-)?pdf/.test(e.type)||/\.pdf$/i.test(e.src)}})),t.Plugin.add("content",(function(){this.type="ajax",this.html=function(i){return src=n(i.src),i.width=i.width||"100%",i.height=i.height||"100%",e('<iframe src="'+src+'" />').on("mediabox:load",(function(){var a=this,n=e(this).parent(),s=this.contentWindow.document.body.innerHTML;window.setTimeout((function(){e(a).remove()}),10),n.append(s);var r=o(this.src);if(r.anchor){var d=n.find("#"+r.anchor).get(0);d&&d.scrollIntoView()}n.find('a[href^="#"]').on("click",(function(t){t.preventDefault();var i=e(this).attr("href"),a=n.find(i).get(0);a&&a.scrollIntoView()})),t.create(t.getPopups("",n)),i.params&&i.params.style&&e('<style type="text/css" />').text(".wf-mediabox-content{"+e("<div />").attr("style",i.params.style).get(0).style.cssText+"}").insertBefore(n)}))},this.is=function(t){return"ajax"===t.type||"text/html"===t.type||e(t.node).hasClass("ajax")}})),t.Plugin.add("dom",(function(){this.type="dom",this.html=function(t){var i=e(t.src);return i?e(i).get(0).outerHTML:""},this.is=function(e){return"dom"===e.type}})),t.Plugin.add("iframe",(function(){this.type="iframe",this.html=function(t){t.width=t.width||"100%",t.height=t.height||"100%",src=n(t.src);var i=r(src);return e(i)},this.is=function(e){return!e.type||"iframe"===e.type}}))}(jQuery,WfMediabox),WfMediabox.Theme.add("bootstrap",(function(){return[{div:{class:"wf-mediabox-container modal",content:[{div:{class:"modal-header",content:[{button:{type:"button",class:"close wf-mediabox-close",title:"{{close}}","aria-label":"{{close}}",content:[{span:{"aria-hidden":"true",text:"&times;"}}]},div:{class:"wf-mediabox-caption"}}]}},{div:{class:"wf-mediabox-content",content:[{nav:{class:"wf-mediabox-nav modal-body carousel",role:"navigation",content:[{a:{role:"button",class:"left carousel-control wf-mediabox-prev",title:"{{previous}}","aria-label":"{{previous}}",content:[{span:{"aria-hidden":"true",class:"glyphicon glyphicon-chevron-left"}}]}},{a:{role:"button",class:"right carousel-control wf-mediabox-next",title:"{{next}}","aria-label":"{{next}}",content:[{span:{"aria-hidden":"true",class:"glyphicon glyphicon-chevron-right"}}]}}]},div:{class:"wf-mediabox-content-item"}}]}}]}}]})),WfMediabox.Theme.add("light",(function(){return[{div:{class:"wf-mediabox-container",content:[{div:{class:"wf-mediabox-content",content:[{div:{class:"wf-mediabox-content-item"}},{button:{class:"wf-mediabox-next",title:"{{next}}","aria-label":"{{next}}"}},{button:{class:"wf-mediabox-prev",title:"{{previous}}","aria-label":"{{previous}}"}}]}},{div:{class:"wf-mediabox-caption"}},{nav:{class:"wf-mediabox-nav",role:"navigation",content:[{button:{class:"wf-mediabox-close",title:"{{close}}","aria-label":"{{close}}",text:"{{close}}"}},{span:{class:"wf-mediabox-numbers",text:"{{numbers_count}}"}}]}}]}}]})),WfMediabox.Theme.add("shadow",(function(){return[{div:{class:"wf-mediabox-info-top",content:[{div:{class:"wf-mediabox-caption"}}]}},{div:{class:"wf-mediabox-container",content:[{div:{class:"wf-mediabox-content",content:[{div:{class:"wf-mediabox-content-item"}}]}}]}},{div:{class:"wf-mediabox-info-bottom",content:[{div:{class:"wf-mediabox-nav",role:"navigation",content:[{span:{class:"wf-mediabox-numbers",text:"{{numbers}}"}},{button:{class:"wf-mediabox-close",title:"{{close}}","aria-label":"{{close}}"}},{button:{class:"wf-mediabox-next",title:"{{next}}","aria-label":"{{next}}","svg-icon":"next:shadow"}},{button:{class:"wf-mediabox-prev",title:"{{previous}}","aria-label":"{{previous}}","svg-icon":"prev:shadow"}}]}}]}}]})),WfMediabox.Theme.add("squeeze",(function(){return[{div:{class:"wf-mediabox-container",content:[{button:{class:"wf-mediabox-close",title:"{{close}}","aria-label":"{{close}}","svg-icon":"close:squeeze"}},{div:{class:"wf-mediabox-content",content:[{div:{class:"wf-mediabox-content-item"}}]}},{div:{class:"wf-mediabox-caption"}},{nav:{class:"wf-mediabox-nav",role:"navigation",content:[{button:{class:"wf-mediabox-prev",title:"{{previous}}","aria-label":"{{previous}}","svg-icon":"prev:squeeze"}},{button:{class:"wf-mediabox-next",title:"{{next}}","aria-label":"{{next}}","svg-icon":"next:squeeze"}},{span:{class:"wf-mediabox-numbers",text:"{{numbers}}"}}]}}]}}]})),jQuery(".wf-mediabox").on("wf-mediabox:template",(function(){})),WfMediabox.Theme.add("standard",(function(){return[{div:{class:"wf-mediabox-container",content:[{div:{class:"wf-mediabox-content",content:[{div:{class:"wf-mediabox-content-item"}}]}},{div:{class:"wf-mediabox-caption"}},{nav:{class:"wf-mediabox-nav",role:"navigation",content:[{button:{class:"wf-mediabox-close",title:"{{close}}","aria-label":"{{close}}","svg-icon":"close:standard"}},{button:{class:"wf-mediabox-prev",title:"{{previous}}","aria-label":"{{previous}}","svg-icon":"prev:standard"}},{button:{class:"wf-mediabox-next",title:"{{next}}","aria-label":"{{next}}","svg-icon":"next:standard"}},{span:{class:"wf-mediabox-numbers",text:"{{numbers}}"}}]}}]}}]})),WfMediabox.Theme.add("uikit",(function(){return[{div:{class:"wf-mediabox-container uk-modal-dialog uk-modal-dialog-lightbox uk-slidenav-position",content:[{a:{class:"wf-mediabox-close uk-modal-close uk-close uk-close-alt",role:"button",title:"{{close}}","aria-label":"{{close}}"}},{div:{class:"wf-mediabox-content uk-lightbox-content",content:[{nav:{role:"navigation",class:"wf-mediabox-nav",content:[{a:{class:"wf-mediabox-prev uk-slidenav uk-slidenav-contrast uk-slidenav-previous uk-hidden-touch",title:"{{previous}}","aria-label":"{{previous}}",role:"button"}},{a:{class:"wf-mediabox-next uk-slidenav uk-slidenav-contrast uk-slidenav-next uk-hidden-touch",title:"{{next}}","aria-label":"{{next}}",role:"button"}}]},div:{class:"wf-mediabox-content-item"}}]}},{div:{class:"wf-mediabox-caption uk-modal-caption"}}]}}]}));